{"name":"nginx_passenger","description":"Installs/Configures nginx and Passenger","long_description":"---\n                 _           ______\n                (_)          | ___ \\\n     _ __   __ _ _ _ __ __  _| |_/ /_ _ ___ ___  ___ _ __   __ _  ___ _ __\n    | '_ \\ / _` | | '_ \\\\ \\/ /  __/ _` / __/ __|/ _ \\ '_ \\ / _` |/ _ \\ '__|\n    | | | | (_| | | | | |>  <| | | (_| \\__ \\__ \\  __/ | | | (_| |  __/ |\n    |_| |_|\\__, |_|_| |_/_/\\_\\_|  \\__,_|___/___/\\___|_| |_|\\__, |\\___|_|\n            __/ |                                           __/ |\n           |___/                                           |___/\n---\n\nThis cookbook installs nginx and [Passenger](https://www.phusionpassenger.com/)\nusing packages compiled by Phusion.  If you want to do extensive nginx\nconfiguration, you may want to use the Opscode\n[nginx cookbook](https://github.com/opscode-cookbooks/nginx) instead.\n\n\nCurrently the cookbook is only written for Ubuntu, since it assumes apt for\npackage install.\n\nThe default recipe adds the Phusion repository and installs the passenger and\nnginx packages.\n\n## `nginx_passenger_site`\n\nThe `nginx_passenger_site` resource is used to add a Passenger-enabled site\nto nginx.\n\nFor instance:\n\n    nginx_passenger_site \"ewr\" do\n      action :create\n      dir    \"/web/ewr/current\"\n      server \"ewr.is\"\n    end\n\nThat call would create an nginx config file at `/etc/nginx/sites-enabled/ewr`\npointing to an app installed at `/web/ewr/current`.  Because it's Passenger,\nthe nginx root is actually set to `/web/ewr/current/public`.\n\nThere are several other attributes that can be set on the resource:\n\n* __name:__ The site key.  \"ewr\" in the example above.\n* __dir:__ The base directory for the application.\n* __server:__ The nginx `server_name`\n* __rails_env:__ Set the Passenger `rails_env` setting\n* __cert:__ Key that specifies an SSL certificate that should be downloaded\n    and installed for the app.  Uses a databag specified in\n    `node.nginx_passenger.cert_databag`.\n* __generate_cert:__ If you do not have a certificate but want your site to be served over https, setting this to true will cause the a key and cert to be automatically generated for you. Note that this certificate will be self signed and should probably not be used in production environments! You can set `node.nginx_passenger.cert_authority` if you wish to change the certificate authority shown on the certificate, which ships as 'Self Signed'.\n* __http:__ Should HTTP be supported?  If no cert is provided, the answer\n    will be yes, regardless of the value of this flag.  If a cert is provided\n    (and HTTPS is therefore enabled), this setting determines whether the\n    app should also be served up over HTTP.  If not, you can optionally have\n    HTTP access redirect to HTTPS based on the value of\n    `node.nginx_passenger.redirect_to_https`.\n* __template:__ If you would like to specify custom nginx / Passenger\n    configuration, you can specify its name here.  By default, the resource\n    will use a stock config that is included.\n* __min_instances:__ Passenger's `passenger_min_instances` setting.  By default,\n    set to the value of `node.nginx_passenger.site_min_instances`, which ships as\n    to 2.\n* __max\\_body\\_size:__ Nginx `client_max_body_size` setting.  Defaults to\n    `node.nginx_passenger.site_max_body_size`, which ships as '8M' (8 megabytes).\n\nIf `site` resource specifies a `maintenance_page`, traffic will be redirected\nthere if a given maintenance check file is present.  By default, we look for\n`(dir)/IN_MAINTENANCE_MODE`, but a custom file can be specified with\nthe `maintenance_check` attribute.\n\n## Who\n\nThis cookbook was written by [Eric Richardson](http://ewr.is), loosely based on\npractices developed putting together cookbooks for [Emcien](http://emcien.com).\n","maintainer":"Eric Richardson","maintainer_email":"e@ewr.is","license":"BSD","platforms":{},"dependencies":{"apt":">= 0.0.0","ssl_certificate":">= 0.0.0"},"recommendations":{},"suggestions":{},"conflicting":{},"providing":{},"replacing":{},"attributes":{},"groupings":{},"recipes":{},"version":"0.4.0"}